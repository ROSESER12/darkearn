<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DarkEarn PRO</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{
margin:0;
font-family:Arial;
background:#060b1a;
color:white;
text-align:center;
}

/* Glass card */
.card{
background:rgba(255,255,255,0.06);
backdrop-filter:blur(15px);
border-radius:20px;
padding:20px;
margin:10px;
border:1px solid rgba(255,255,255,0.1);
box-shadow:0 0 20px rgba(0,255,255,0.15);
}

/* Tap button */
.tap{
width:100%;
padding:25px;
border:none;
border-radius:15px;
font-size:24px;
font-weight:bold;
background:linear-gradient(135deg,#8a2be2,#00ffff);
color:white;
box-shadow:0 0 20px cyan;
}

/* Small buttons */
.btn{
padding:12px 18px;
border-radius:10px;
border:1px solid #8a2be2;
background:none;
color:white;
margin:5px;
}

/* Bottom menu */
.menu{
position:fixed;
bottom:0;
left:0;
width:100%;
display:flex;
justify-content:space-around;
background:#080f25;
padding:10px 0;
border-top:1px solid rgba(255,255,255,0.1);
}

.menu button{
background:none;
border:none;
color:white;
font-size:14px;
}

.hidden{display:none;}
</style>
</head>

<body>

<h2>ğŸŒŒ DarkEarn PRO</h2>

<div id="earnTab" class="tab">
<div class="card">
<h3>Balance</h3>
<h1 id="coins">0</h1>
<h4>âš¡ Energy: <span id="energy">100</span>/100</h4>
<button class="tap" onclick="tap()">âš¡ TAP</button>
</div>
</div>

<div id="upgradeTab" class="tab hidden">
<div class="card">
<h3>ğŸš€ Upgrades</h3>
<p>Tap Power: <span id="power">1</span></p>
<button class="btn" onclick="upgrade()">Upgrade (50 coins)</button>
</div>
</div>

<div id="tasksTab" class="tab hidden">
<div class="card">
<h3>ğŸ Tasks</h3>
<p>Join Telegram Channel</p>
<button class="btn" onclick="claimTask()">Claim 100 coins</button>
</div>
</div>

<div id="friendsTab" class="tab hidden">
<div class="card">
<h3>ğŸ‘¥ Friends</h3>
<p>Your referral link:</p>
<p id="refLink"></p>
</div>
</div>

<div id="leaderTab" class="tab hidden">
<div class="card">
<h3>ğŸ† Leaderboard</h3>
<p>1. CryptoKing â€” 99999</p>
<p>2. DarkMiner â€” 50000</p>
<p>3. You â€” <span id="coins2">0</span></p>
</div>
</div>

<div id="profileTab" class="tab hidden">
<div class="card">
<h3>ğŸ‘¤ Profile</h3>
<p id="username">Loading...</p>
</div>
</div>

<!-- Bottom Menu -->
<div class="menu">
<button onclick="showTab('earnTab')">ğŸª™ Earn</button>
<button onclick="showTab('upgradeTab')">ğŸš€ Upgrades</button>
<button onclick="showTab('tasksTab')">ğŸ Tasks</button>
<button onclick="showTab('friendsTab')">ğŸ‘¥ Friends</button>
<button onclick="showTab('leaderTab')">ğŸ† Top</button>
<button onclick="showTab('profileTab')">ğŸ‘¤ Profile</button>
</div>

<script>
let tg = window.Telegram.WebApp;
tg.expand();

// Load data
let coins = Number(localStorage.getItem("coins")) || 0;
let power = Number(localStorage.getItem("power")) || 1;
let energy = Number(localStorage.getItem("energy")) || 100;

// Telegram user
if(tg.initDataUnsafe.user){
document.getElementById("username").innerText = "@" + tg.initDataUnsafe.user.username;
document.getElementById("refLink").innerText = "https://t.me/DarkEarnBot?start=" + tg.initDataUnsafe.user.id;
}

// UI update
function updateUI(){
document.getElementById("coins").innerText = coins;
document.getElementById("coins2").innerText = coins;
document.getElementById("power").innerText = power;
document.getElementById("energy").innerText = energy;
localStorage.setItem("coins", coins);
localStorage.setItem("power", power);
localStorage.setItem("energy", energy);
}
updateUI();

// Tap
function tap(){
if(energy <= 0){ alert("No energy"); return; }
coins += power;
energy--;
updateUI();
}

// Energy regen
setInterval(()=>{
if(energy < 100){
energy++;
updateUI();
}
},2000);

// Upgrade
function upgrade(){
if(coins >= 50){
coins -= 50;
power++;
updateUI();
alert("Upgrade successful!");
}else{
alert("Not enough coins");
}
}

// Task reward
function claimTask(){
coins += 100;
updateUI();
alert("Task completed!");
}

// Tabs
function showTab(id){
document.querySelectorAll(".tab").forEach(t=>t.
