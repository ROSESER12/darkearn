<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DarkCoin</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:Inter,Arial;
background:radial-gradient(circle at top,#0a0f2a,#000);
color:white;
overflow:hidden;
text-align:center;
}

/* Animated background particles */
.bg{
position:fixed;inset:0;
background:url("https://i.imgur.com/Z7nq9sG.png");
opacity:0.08;
animation:move 40s linear infinite;
z-index:-2;
}
@keyframes move{
0%{background-position:0 0}
100%{background-position:1000px 1000px}
}

/* Top logo */
.top{
padding:15px;
font-size:26px;
font-weight:800;
letter-spacing:2px;
color:#fff;
text-shadow:0 0 20px #00ffff;
}

/* Coin center */
.coin{
width:200px;height:200px;
border-radius:50%;
margin:auto;
background:radial-gradient(circle,#ffdd00,#ff9900);
box-shadow:0 0 60px #ffb700;
display:flex;
align-items:center;
justify-content:center;
font-size:32px;
font-weight:bold;
animation:float 3s ease-in-out infinite;
}
@keyframes float{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-15px)}
}

/* Balance HUD */
.hud{
display:flex;
justify-content:space-around;
margin:15px;
}
.hud div{
background:rgba(255,255,255,0.05);
padding:10px 15px;
border-radius:12px;
backdrop-filter:blur(10px);
border:1px solid rgba(255,255,255,0.15);
}

/* TAP BUTTON */
.tap{
margin-top:15px;
padding:20px;
width:80%;
border:none;
border-radius:18px;
font-size:20px;
font-weight:bold;
background:linear-gradient(135deg,#00ffff,#6a00ff);
color:white;
box-shadow:0 0 30px #00ffff;
}

/* Bottom menu */
.menu{
position:fixed;
bottom:0;width:100%;
display:flex;
justify-content:space-around;
background:#050812;
padding:12px 0;
border-top:1px solid rgba(255,255,255,0.1);
}
.menu button{
background:none;border:none;color:white;font-size:12px;
}

.card{
background:rgba(255,255,255,0.04);
margin:10px;padding:15px;border-radius:16px;
border:1px solid rgba(255,255,255,0.1);
backdrop-filter:blur(10px);
}

.hidden{display:none}
</style>
</head>

<body>
<div class="bg"></div>

<div class="top">ðŸª™ DarkCoin</div>

<!-- MAIN -->
<div id="earnTab">
<div class="hud">
<div>Balance<br><b id="coins">0</b></div>
<div>âš¡ Energy<br><b id="energy">100</b></div>
<div>Level<br><b id="level">1</b></div>
</div>

<div class="coin">DC</div>

<button class="tap" onclick="tap()">Mine DarkCoin</button>
</div>

<!-- NFT MARKET -->
<div id="nftTab" class="hidden">
<div class="card">
<h3>NFT Market</h3>
<div class="card">
Skull #001 - Price 1000 DC  
<button onclick="buyNFT('Skull #001',1000)">Buy</button>
</div>
<div class="card">
Golden Skull - Price 5000 DC  
<button onclick="buyNFT('Golden Skull',5000)">Buy</button>
</div>

<h4>Your NFTs</h4>
<div id="myNFTs"></div>
</div>
</div>

<!-- PROFILE -->
<div id="profileTab" class="hidden">
<div class="card">
<p id="username">User</p>
</div>
</div>

<!-- MENU -->
<div class="menu">
<button onclick="showTab('earnTab')">Earn</button>
<button onclick="showTab('nftTab')">NFT</button>
<button onclick="showTab('profileTab')">Profile</button>
</div>

<script>
let tg = window.Telegram.WebApp;
tg.expand();

/* DATA */
let coins=+localStorage.getItem("coins")||0;
let energy=+localStorage.getItem("energy")||100;
let level=+localStorage.getItem("level")||1;
let nfts=JSON.parse(localStorage.getItem("nfts")||"[]");

/* USER */
if(tg.initDataUnsafe?.user){
username.innerText="@"+tg.initDataUnsafe.user.username;
}

/* UI */
function updateUI(){
coinsEl.innerText=coins;
energyEl.innerText=energy;
levelEl.innerText=level;

document.getElementById("coins").innerText=coins;
document.getElementById("energy").innerText=energy;
document.getElementById("level").innerText=level;

localStorage.setItem("coins",coins);
localStorage.setItem("energy",energy);
localStorage.setItem("level",level);
localStorage.setItem("nfts",JSON.stringify(nfts));

let box=document.getElementById("myNFTs");
box.innerHTML="";
nfts.forEach(n=>box.innerHTML+="<p>â€¢ "+n+"</p>");
}
updateUI();

/* TAP */
function tap(){
if(energy<=0)return;
coins++;
energy--;
level=Math.floor(coins/1000)+1;
updateUI();
}

/* ENERGY REGEN */
setInterval(()=>{if(energy<100){energy++;updateUI();}},2000);

/* NFT BUY */
function buyNFT(name,price){
if(coins>=price){
coins-=price;
nfts.push(name);
updateUI();
alert("NFT purchased: "+name);
}
}

/* TABS */
function showTab(id){
document.querySelectorAll("body > div[id$='Tab']").forEach(t=>t.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}
</script>

</body>
</html>
