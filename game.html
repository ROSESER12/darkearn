<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DarkCoin</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,Arial;
color:white;
background:black;
overflow:hidden;
}

/* Animated gradient */
.bg{
position:fixed;inset:0;
background:radial-gradient(circle at 20% 20%,#0f0 0%,transparent 40%),
radial-gradient(circle at 80% 80%,#00f 0%,transparent 40%),
linear-gradient(120deg,#000,#02040f,#000);
animation:bgmove 20s infinite alternate;
z-index:-5;
}
@keyframes bgmove{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}

/* Skull layer */
.skulls{
position:fixed;inset:0;
background:url("https://i.imgur.com/9Q9Z6qf.png");
opacity:0.05;
animation:moveSkull 80s linear infinite;
z-index:-4;
}
@keyframes moveSkull{0%{background-position:0 0}100%{background-position:2000px 2000px}}

/* Top Brand */
.top{
position:fixed;top:0;width:100%;
padding:12px;
background:rgba(0,0,0,0.6);
backdrop-filter:blur(20px);
text-align:center;
font-size:22px;font-weight:bold;
border-bottom:1px solid rgba(255,255,255,0.1);
z-index:10;
}

/* Glass card */
.card{
margin:12px;
padding:18px;
border-radius:20px;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(20px);
border:1px solid rgba(255,255,255,0.15);
box-shadow:0 0 30px rgba(0,255,255,0.1);
transition:.3s;
}
.card:hover{transform:scale(1.02)}

/* Tap button */
.tap{
width:100%;
padding:22px;
font-size:24px;
font-weight:bold;
border-radius:16px;
border:none;
color:white;
background:linear-gradient(135deg,#00ffff,#8a2be2);
box-shadow:0 0 25px cyan;
}

/* Buttons */
.btn{
padding:10px 16px;
border-radius:10px;
border:1px solid cyan;
background:none;
color:white;
margin:5px;
}

/* Menu */
.menu{
position:fixed;
bottom:0;width:100%;
display:flex;
justify-content:space-around;
background:rgba(0,0,0,0.6);
backdrop-filter:blur(15px);
padding:8px;
border-top:1px solid rgba(255,255,255,0.1);
}
.menu button{background:none;border:none;color:white;font-size:12px}

.hidden{display:none}

/* NFT Card */
.nft{
border:1px solid cyan;
padding:12px;
margin:10px;
border-radius:14px;
background:rgba(0,0,0,0.5);
}
</style>
</head>

<body>

<div class="bg"></div>
<div class="skulls"></div>

<div class="top">ðŸª™ DarkCoin</div>
<br><br><br>

<!-- EARN -->
<div id="earnTab" class="tab">
<div class="card">
<h3>Balance</h3>
<h1 id="coins">0</h1>
<p>Energy: <span id="energy">100</span></p>
<button class="tap" onclick="tap()">Mine DarkCoin</button>
</div>
</div>

<!-- UPGRADES -->
<div id="upTab" class="tab hidden">
<div class="card">
<h3>Upgrades</h3>
<p>Power: <span id="power">1</span></p>
<p>Auto Farm: <span id="farm">0</span>/sec</p>
<button class="btn" onclick="upgradePower()">Power +1 (50)</button>
<button class="btn" onclick="upgradeFarm()">Farm +1 (200)</button>
</div>
</div>

<!-- NFT MARKET -->
<div id="marketTab" class="tab hidden">
<div class="card">
<h3>NFT Marketplace</h3>

<div class="nft">
<p>Genesis Skull</p>
<p>Price: 1000 DC</p>
<button class="btn" onclick="buyNFT('Genesis Skull',1000)">Buy</button>
</div>

<div class="nft">
<p>Dark Phantom</p>
<p>Price: 5000 DC</p>
<button class="btn" onclick="buyNFT('Dark Phantom',5000)">Buy</button>
</div>

<h4>Your NFTs</h4>
<div id="myNFTs"></div>
</div>
</div>

<!-- PROFILE -->
<div id="profileTab" class="tab hidden">
<div class="card">
<p id="username">Loading...</p>
<p>Level: <span id="level">1</span></p>
</div>
</div>

<!-- MENU -->
<div class="menu">
<button onclick="showTab('earnTab')">Earn</button>
<button onclick="showTab('upTab')">Upgrades</button>
<button onclick="showTab('marketTab')">NFT</button>
<button onclick="showTab('profileTab')">Profile</button>
</div>

<script>
let tg = window.Telegram.WebApp;
tg.expand();

/* DATA */
let coins=+localStorage.getItem("coins")||0;
let power=+localStorage.getItem("power")||1;
let farm=+localStorage.getItem("farm")||0;
let energy=+localStorage.getItem("energy")||100;
let level=+localStorage.getItem("level")||1;
let nfts=JSON.parse(localStorage.getItem("nfts")||"[]");

/* USER */
if(tg.initDataUnsafe?.user){
document.getElementById("username").innerText="@"+tg.initDataUnsafe.user.username;
}

/* UI */
function updateUI(){
coinsEl=coins;
document.getElementById("coins").innerText=coins;
document.getElementById("power").innerText=power;
document.getElementById("farm").innerText=farm;
document.getElementById("energy").innerText=energy;
document.getElementById("level").innerText=level;
localStorage.setItem("coins",coins);
localStorage.setItem("power",power);
localStorage.setItem("farm",farm);
localStorage.setItem("energy",energy);
localStorage.setItem("level",level);
localStorage.setItem("nfts",JSON.stringify(nfts));

let box=document.getElementById("myNFTs");
box.innerHTML="";
nfts.forEach(n=>box.innerHTML+="<p>â€¢ "+n+"</p>");
}
updateUI();

/* TAP */
function tap(){
if(energy<=0)return;
coins+=power;
energy--;
level=Math.floor(coins/1000)+1;
updateUI();
tg.HapticFeedback?.impactOccurred("medium");
}

/* Regen */
setInterval(()=>{if(energy<100){energy++;updateUI();}},2000);

/* Farm */
setInterval(()=>{coins+=farm;updateUI();},1000);

/* Upgrades */
function upgradePower(){if(coins>=50){coins-=50;power++;updateUI();}}
function upgradeFarm(){if(coins>=200){coins-=200;farm++;updateUI();}}

/* NFT */
function buyNFT(name,price){
if(coins>=price){
coins-=price;
nfts.push(name);
updateUI();
alert("NFT Minted: "+name);
}
}

/* Tabs */
function showTab(id){
document.querySelectorAll(".tab").forEach(t=>t.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}
</script>

</body>
</html>
