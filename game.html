<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DarkEarn Black Edition</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,Arial;
background:#000;
color:#fff;
text-align:center;
overflow:hidden;
}

/* Premium background */
body::before{
content:"";
position:fixed;
inset:0;
background:
radial-gradient(circle at 20% 20%, #ffffff10, transparent),
radial-gradient(circle at 80% 80%, #ffffff05, transparent);
z-index:-1;
}

/* Glass cards */
.card{
background:rgba(255,255,255,0.03);
backdrop-filter:blur(20px);
border:1px solid rgba(255,255,255,0.15);
border-radius:18px;
padding:18px;
margin:12px;
}

/* Tap button */
.tap{
width:100%;
padding:22px;
font-size:24px;
font-weight:bold;
border:none;
border-radius:14px;
background:#111;
color:white;
border:1px solid white;
box-shadow:0 0 25px rgba(255,255,255,0.15);
transition:0.1s;
}
.tap:active{transform:scale(0.95)}

/* Small buttons */
.btn{
padding:10px 16px;
border-radius:10px;
border:1px solid white;
background:none;
color:white;
margin:5px;
}

/* Menu */
.menu{
position:fixed;
bottom:0;left:0;width:100%;
display:flex;
justify-content:space-around;
background:#050505;
padding:8px;
border-top:1px solid rgba(255,255,255,0.15);
}
.menu button{
background:none;border:none;color:white;font-size:12px;
}

.hidden{display:none}

/* NFT cards */
.nft{
border:1px solid white;
border-radius:14px;
padding:10px;
margin:8px;
background:#050505;
}
</style>
</head>
<body>

<h2>BLACK EARN</h2>

<!-- EARN -->
<div id="earnTab" class="tab">
<div class="card">
<h3>Balance</h3>
<h1 id="coins">0</h1>
<p>⚡ Energy: <span id="energy">100</span>/100</p>
<button class="tap" onclick="tap()">TAP</button>
</div>
</div>

<!-- UPGRADES -->
<div id="upgradeTab" class="tab hidden">
<div class="card">
<h3>Upgrades</h3>
<p>Tap Power: <span id="power">1</span></p>
<p>Auto Farm: <span id="farm">0</span>/sec</p>
<button class="btn" onclick="upgradePower()">Upgrade Power (50)</button>
<button class="btn" onclick="upgradeFarm()">Upgrade Farm (200)</button>
</div>
</div>

<!-- TASKS -->
<div id="tasksTab" class="tab hidden">
<div class="card">
<h3>Tasks</h3>
<button class="btn" onclick="daily()">Daily Reward</button>
<button class="btn" onclick="taskReward()">Join Channel Reward</button>
</div>
</div>

<!-- FRIENDS -->
<div id="friendsTab" class="tab hidden">
<div class="card">
<h3>Referral</h3>
<p id="refLink"></p>
</div>
</div>

<!-- LEADERBOARD -->
<div id="leaderTab" class="tab hidden">
<div class="card">
<h3>Leaderboard</h3>
<p>1 BlackFund — 999999</p>
<p>2 DarkCrypto — 500000</p>
<p>3 You — <span id="coins2">0</span></p>
</div>
</div>

<!-- PROFILE -->
<div id="profileTab" class="tab hidden">
<div class="card">
<h3>Profile</h3>
<p id="username">Loading...</p>
<p>Level: <span id="level">1</span></p>
</div>
</div>

<!-- NFT MARKET -->
<div id="nftTab" class="tab hidden">
<div class="card">
<h3>NFT Market</h3>

<div class="nft">
<p>BLACK GENESIS NFT</p>
<p>Price: 1000</p>
<button class="btn" onclick="buyNFT('Genesis',1000)">Buy</button>
</div>

<div class="nft">
<p>VOID SKIN NFT</p>
<p>Price: 2500</p>
<button class="btn" onclick="buyNFT('Void',2500)">Buy</button>
</div>

<h4>Your NFTs</h4>
<div id="myNFTs"></div>

</div>
</div>

<!-- MENU -->
<div class="menu">
<button onclick="showTab('earnTab')">Earn</button>
<button onclick="showTab('upgradeTab')">Upgrades</button>
<button onclick="showTab('tasksTab')">Tasks</button>
<button onclick="showTab('friendsTab')">Friends</button>
<button onclick="showTab('leaderTab')">Top</button>
<button onclick="showTab('nftTab')">NFT</button>
<button onclick="showTab('profileTab')">Profile</button>
</div>

<script>
let tg = window.Telegram.WebApp;
tg.expand();

/* DATA */
let coins = +localStorage.getItem("coins") || 0;
let power = +localStorage.getItem("power") || 1;
let farm = +localStorage.getItem("farm") || 0;
let energy = +localStorage.getItem("energy") || 100;
let level = +localStorage.

> Lancet:
getItem("level") || 1;
let nfts = JSON.parse(localStorage.getItem("nfts")||"[]");

/* Telegram user */
if(tg.initDataUnsafe.user){
username.innerText = "@"+tg.initDataUnsafe.user.username;
refLink.innerText = "https://t.me/DarkEarnBot?start="+tg.initDataUnsafe.user.id;
}

/* UI */
function updateUI(){
coinsEl = coins;
document.getElementById("coins").innerText=coins;
document.getElementById("coins2").innerText=coins;
document.getElementById("power").innerText=power;
document.getElementById("farm").innerText=farm;
document.getElementById("energy").innerText=energy;
document.getElementById("level").innerText=level;

localStorage.setItem("coins",coins);
localStorage.setItem("power",power);
localStorage.setItem("farm",farm);
localStorage.setItem("energy",energy);
localStorage.setItem("level",level);
localStorage.setItem("nfts",JSON.stringify(nfts));

/* NFTs */
myNFTs.innerHTML="";
nfts.forEach(n=>myNFTs.innerHTML+="<p>"+n+"</p>");
}
updateUI();

/* TAP */
function tap(){
if(energy<=0)return;
coins+=power;
energy--;
level=Math.floor(coins/1000)+1;
updateUI();
}

/* Energy regen */
setInterval(()=>{
if(energy<100)energy++;
},2000);

/* Auto farm */
setInterval(()=>{
coins+=farm;
updateUI();
},1000);

/* Upgrades */
function upgradePower(){
if(coins>=50){coins-=50;power++;updateUI();}
}
function upgradeFarm(){
if(coins>=200){coins-=200;farm++;updateUI();}
}

/* Tasks */
function daily(){
if(!localStorage.getItem("daily")){
coins+=500;
localStorage.setItem("daily",Date.now());
updateUI();
alert("Daily claimed");
}
}
function taskReward(){
coins+=1000;
updateUI();
}

/* NFT BUY */
function buyNFT(name,price){
if(coins>=price){
coins-=price;
nfts.push(name);
updateUI();
alert("NFT purchased: "+name);
}
}

/* Tabs */
function showTab(id){
document.querySelectorAll(".tab").forEach(t=>t.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}
</script><script>
let tg = window.Telegram.WebApp;
tg.expand();

/* DATA */
let coins = +localStorage.getItem("coins") || 0;
let power = +localStorage.getItem("power") || 1;
let farm = +localStorage.getItem("farm") || 0;
let energy = +localStorage.getItem("energy") || 100;
let level = +localStorage.getItem("level") || 1;
let nfts = JSON.parse(localStorage.getItem("nfts") || "[]");

/* Telegram user */
if(tg.initDataUnsafe?.user){
document.getElementById("username").innerText = "@"+tg.initDataUnsafe.user.username;
document.getElementById("refLink").innerText = "https://t.me/DarkEarnBot?start="+tg.initDataUnsafe.user.id;
}

/* UI Update */
function updateUI(){
document.getElementById("coins").innerText = coins;
document.getElementById("coins2").innerText = coins;
document.getElementById("power").innerText = power;
document.getElementById("farm").innerText = farm;
document.getElementById("energy").innerText = energy;
document.getElementById("level").innerText = level;

localStorage.setItem("coins", coins);
localStorage.setItem("power", power);
localStorage.setItem("farm", farm);
localStorage.setItem("energy", energy);
localStorage.setItem("level", level);
localStorage.setItem("nfts", JSON.stringify(nfts));

let nftBox = document.getElementById("myNFTs");
nftBox.innerHTML = "";
nfts.forEach(n => nftBox.innerHTML += "<p>• "+n+"</p>");
}
updateUI();

/* TAP */
function tap(){
if(energy <= 0) return alert("No energy");
coins += power;
energy--;
level = Math.floor(coins / 1000) + 1;
updateUI();
}

/* Energy regen */
setInterval(()=>{
if(energy < 100){
energy++;
updateUI();
}
}, 2000);

/* Auto farm */
setInterval(()=>{
if(farm > 0){
coins += farm;
updateUI();
}
}, 1000);

/* Upgrades */
function upgradePower(){
if(coins >= 50){
coins -= 50;
power++;
updateUI();
}else alert("Not enough coins");
}

function upgradeFarm(){
if(coins >= 200){
coins -= 200;
farm++;
updateUI();
}else alert("Not enough coins");
}

/* Daily reward 24h */
function daily(){
let last = localStorage.getItem("daily");
if(!last || Date.now() - last > 86400000){
coins += 500;
localStorage.setItem("daily", Date.now());
updateUI();
alert("Daily claimed!");
}else{
alert("Come back tomorrow");
}
}

/* Task reward */
function taskReward(){
coins += 1000;
updateUI();
alert("Task completed!");
}

/* NFT BUY */
function buyNFT(name, price){
if(coins >= price){
coins -= price;
nfts.push(name);
updateUI();
alert("NFT purchased: "+name);
}else alert("Not enough coins");
}

/* Tabs */
function showTab(id){
document.querySelectorAll(".tab").forEach(t => t.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}
</script>
</body>
</html>
